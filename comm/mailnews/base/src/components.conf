# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-
# vim: set filetype=python:
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

Classes = [
    {
        "cid": "{a30be08c-afc8-4fed-9af7-79778a23db23}",
        "contract_ids": ["@mozilla.org/mail/folder-lookup;1"],
        "jsm": "resource:///modules/FolderLookupService.jsm",
        "constructor": "FolderLookupService",
    },
    {
        "cid": "{49b04761-23dd-45d7-903d-619418a4d319}",
        "contract_ids": ["@mozilla.org/messenger/msgAsyncPrompter;1"],
        "jsm": "resource:///modules/MsgAsyncPrompter.jsm",
        "constructor": "MsgAsyncPrompter",
    },
    {
        "cid": "{26ebf3a7-3e52-4b7a-a89b-fa7c0b7506f9}",
        "contract_ids": ["@mozilla.org/messenger/msgAuthPrompt;1"],
        "jsm": "resource:///modules/MsgAsyncPrompter.jsm",
        "constructor": "MsgAuthPrompt",
    },
    {
        "cid": "{b63d8e4c-bf60-439b-be0e-7c9f67291042}",
        "contract_ids": ["@mozilla.org/mail/oauth2-module;1"],
        "jsm": "resource:///modules/OAuth2Module.jsm",
        "constructor": "OAuth2Module",
    },
    {
        "cid": "{740880e6-e299-4165-b82f-df1dcab3ae22}",
        "contract_ids": ["@mozilla.org/newMailNotificationService;1"],
        "jsm": "resource:///modules/MailNotificationService.jsm",
        "constructor": "NewMailNotificationService",
        "name": "MailNotification",
        "interfaces": ["mozINewMailNotificationService"],
    },
    {
        "cid": "{37246055-3596-4bfa-911f-3d2977e8d284}",
        "contract_ids": ["@mozilla.org/mail/auth-module;1"],
        "type": "nsMailAuthModule",
        "headers": ["/comm/mailnews/base/src/nsMailAuthModule.h"],
    },
    {
        "cid": "{e9aef539-29db-4936-9fdc-40ba11c70cb3}",
        "contract_ids": ["@mozilla.org/mail/notification-manager;1"],
        "jsm": "resource:///modules/MailNotificationManager.jsm",
        "constructor": "MailNotificationManager",
    },
    {
        "cid": "{4a85a5d0-cddd-11d2-b7f6-00805f05ffa5}",
        "contract_ids": [
            "@mozilla.org/appshell/component/messenger;1",
            "@mozilla.org/messenger/windowservice;1",
        ],
        "type": "nsMessengerBootstrap",
        "headers": ["/comm/mailnews/base/src/nsMessengerBootstrap.h"],
    },
    {
        "cid": "{d5124441-d59e-11d2-806a-006080128c4e}",
        "contract_ids": ["@mozilla.org/messenger/services/session;1"],
        "type": "nsMsgMailSession",
        "init_method": "Init",
        "headers": ["/comm/mailnews/base/src/nsMsgMailSession.h"],
        "name": "MailSession",
        "interfaces": ["nsIMsgMailSession"],
    },
    {
        "cid": "{f436a174-e2c0-4955-9afe-e3feb68aee56}",
        "contract_ids": ["@mozilla.org/messenger;1"],
        "type": "nsMessenger",
        "headers": ["/comm/mailnews/base/src/nsMessenger.h"],
    },
    {
        "cid": "{d2876e50-e62c-11d2-b7fc-00805f05ffa5}",
        "contract_ids": ["@mozilla.org/messenger/account-manager;1"],
        "type": "nsMsgAccountManager",
        "init_method": "Init",
        "headers": ["/comm/mailnews/base/src/nsMsgAccountManager.h"],
        "name": "AccountManager",
        "interfaces": ["nsIMsgAccountManager"],
    },
    {
        "cid": "{68b25510-e641-11d2-b7fc-00805f05ffa5}",
        "contract_ids": ["@mozilla.org/messenger/account;1"],
        "type": "nsMsgAccount",
        "headers": ["/comm/mailnews/base/src/nsMsgAccount.h"],
    },
    {
        "cid": "{8fbf6ac0-ebcc-11d2-b7fc-00805f05ffa5}",
        "contract_ids": ["@mozilla.org/messenger/identity;1"],
        "type": "nsMsgIdentity",
        "headers": ["/comm/mailnews/base/src/nsMsgIdentity.h"],
    },
    {
        "cid": "{4a374e7e-190f-11d3-8a88-0060b0fc04d2}",
        "contract_ids": ["@mozilla.org/messenger/biffManager;1"],
        "type": "nsMsgBiffManager",
        "init_method": "Init",
        "headers": ["/comm/mailnews/base/src/nsMsgBiffManager.h"],
    },
    {
        "cid": "{a687b474-afd8-418f-8ad9-f362202ae9a9}",
        "contract_ids": ["@mozilla.org/messenger/purgeService;1"],
        "type": "nsMsgPurgeService",
        "headers": ["/comm/mailnews/base/src/nsMsgPurgeService.h"],
    },
    {
        "cid": "{7f9a9fb0-4161-11d4-9876-00c04fa0d2a6}",
        "contract_ids": ["@mozilla.org/messenger/statusBarBiffManager;1"],
        "type": "nsStatusBarBiffManager",
        "init_method": "Init",
        "headers": ["/comm/mailnews/base/src/nsStatusBarBiffManager.h"],
    },
    {
        "cid": "{7741daed-2125-11d3-8a90-0060b0fc04d2}",
        "contract_ids": ["@mozilla.org/messenger/copymessagestreamlistener;1"],
        "type": "nsCopyMessageStreamListener",
        "headers": ["/comm/mailnews/base/src/nsCopyMessageStreamListener.h"],
    },
    {
        "cid": "{c766e666-29bd-11d3-afb3-001083002da8}",
        "contract_ids": ["@mozilla.org/messenger/messagecopyservice;1"],
        "type": "nsMsgCopyService",
        "headers": ["/comm/mailnews/base/src/nsMsgCopyService.h"],
        "name": "Copy",
        "interfaces": ["nsIMsgCopyService"],
    },
    {
        "cid": "{bcdca970-3b22-11d3-8d76-0080f58a6617}",
        "contract_ids": ["@mozilla.org/messenger/msgFolderCache;1"],
        "type": "nsMsgFolderCache",
        "headers": ["/comm/mailnews/base/src/nsMsgFolderCache.h"],
    },
    {
        "cid": "{bd85a417-5433-11d3-8ac5-0060b0fc04d2}",
        "contract_ids": ["@mozilla.org/messenger/statusfeedback;1"],
        "type": "nsMsgStatusFeedback",
        "headers": ["/comm/mailnews/base/src/nsMsgStatusFeedback.h"],
    },
    {
        "cid": "{bb460dff-8bf0-11d3-8afe-0060b0fc04d2}",
        "contract_ids": ["@mozilla.org/messenger/msgwindow;1"],
        "type": "nsMsgWindow",
        "init_method": "Init",
        "headers": ["/comm/mailnews/base/src/nsMsgWindow.h"],
    },
    {
        "cid": "{8510876a-1dd2-11b2-8253-91f71b348a25}",
        "contract_ids": ["@mozilla.org/messenger/subscribableserver;1"],
        "type": "nsSubscribableServer",
        "init_method": "Init",
        "headers": ["/comm/mailnews/base/src/nsSubscribableServer.h"],
    },
    {
        "cid": "{56c4c2ac-fe4a-4528-aa78-f8fb579b029c}",
        "contract_ids": ["@mozilla.org/messenger/foldercompactor;1"],
        "type": "nsMsgFolderCompactor",
        "headers": ["/comm/mailnews/base/src/nsMsgFolderCompactor.h"],
    },
    {
        "cid": "{52f860e0-1dd2-11b2-aa72-bb751981bd00}",
        "contract_ids": ["@mozilla.org/messenger/msgdbview;1?type=threaded"],
        "type": "nsMsgThreadedDBView",
        "headers": ["/comm/mailnews/base/src/nsMsgThreadedDBView.h"],
    },
    {
        "cid": "{ca79a00e-010d-11d5-a5be-0060b0fc04b7}",
        "contract_ids": ["@mozilla.org/messenger/msgdbview;1?type=threadswithunread"],
        "type": "nsMsgThreadsWithUnreadDBView",
        "headers": ["/comm/mailnews/base/src/nsMsgSpecialViews.h"],
    },
    {
        "cid": "{597e1ffe-0123-11d5-a5be-0060b0fc04b7}",
        "contract_ids": [
            "@mozilla.org/messenger/msgdbview;1?type=watchedthreadswithunread"
        ],
        "type": "nsMsgWatchedThreadsWithUnreadDBView",
        "headers": ["/comm/mailnews/base/src/nsMsgSpecialViews.h"],
    },
    {
        "cid": "{aeac118c-0823-11d5-a5bf-0060b0fc04b7}",
        "contract_ids": ["@mozilla.org/messenger/msgdbview;1?type=search"],
        "type": "nsMsgSearchDBView",
        "headers": ["/comm/mailnews/base/src/nsMsgSearchDBView.h"],
    },
    {
        "cid": "{2dd9d0fe-b609-11d6-bacc-00108335748d}",
        "contract_ids": ["@mozilla.org/messenger/msgdbview;1?type=quicksearch"],
        "type": "nsMsgQuickSearchDBView",
        "headers": ["/comm/mailnews/base/src/nsMsgQuickSearchDBView.h"],
    },
    {
        "cid": "{2af6e050-04f6-495a-8387-86b0aeb1863c}",
        "contract_ids": ["@mozilla.org/messenger/msgdbview;1?type=xfvf"],
        "type": "nsMsgXFVirtualFolderDBView",
        "headers": ["/comm/mailnews/base/src/nsMsgXFVirtualFolderDBView.h"],
    },
    {
        "cid": "{e4603d6c-0a74-47c5-b69e-2f8876990304}",
        "contract_ids": ["@mozilla.org/messenger/msgdbview;1?type=group"],
        "type": "nsMsgGroupView",
        "headers": ["/comm/mailnews/base/src/nsMsgGroupView.h"],
    },
    {
        "cid": "{bcf6afbe-7d4f-11ec-9092-eb4fed0a5aaa}",
        "contract_ids": ["@mozilla.org/msgDBView/msgDBViewService;1"],
        "type": "nsMsgDBViewService",
        "headers": ["/comm/mailnews/base/src/nsMsgDBView.h"],
        "name": "DBView",
        "interfaces": ["nsIMsgDBViewService"],
    },
    {
        "cid": "{ac6c518a-09b2-11d5-a5bf-0060b0fc04b7}",
        "contract_ids": ["@mozilla.org/messenger/offline-manager;1"],
        "type": "nsMsgOfflineManager",
        "headers": ["/comm/mailnews/base/src/nsMsgOfflineManager.h"],
    },
    {
        "cid": "{9f4dd201-3b1f-11d5-9daa-c345c9453d3c}",
        "contract_ids": ["@mozilla.org/messenger/progress;1"],
        "type": "nsMsgProgress",
        "headers": ["/comm/mailnews/base/src/nsMsgProgress.h"],
    },
    {
        "cid": "{ce6038ae-e5e0-4372-9cff-2a6633333b2b}",
        "contract_ids": ["@mozilla.org/messenger/spamsettings;1"],
        "type": "nsSpamSettings",
        "headers": ["/comm/mailnews/base/src/nsSpamSettings.h"],
    },
    {
        "cid": "{b3db9392-1b15-48ba-a136-0cc3db13d87b}",
        "contract_ids": ["@mozilla.org/network/protocol;1?name=cid"],
        "type": "nsCidProtocolHandler",
        "headers": ["/comm/mailnews/base/src/nsCidProtocolHandler.h"],
        "protocol_config": {
            "scheme": "cid",
            "flags": [
              "URI_DANGEROUS_TO_LOAD"
            ],
        },
    },
    {
        "cid": "{b897da55-8256-4cf5-892b-32e77bc7c50b}",
        "contract_ids": ["@mozilla.org/messenger/tagservice;1"],
        "type": "nsMsgTagService",
        "headers": ["/comm/mailnews/base/src/nsMsgTagService.h"],
        "name": "Tag",
        "interfaces": ["nsIMsgTagService"],
    },
    {
        "cid": "{0c8ec907-49c7-49bc-8bdf-b16e29bd6c47}",
        "contract_ids": ["@mozilla.org/msgFolder/msgFolderService;1"],
        "type": "nsMsgFolderService",
        "headers": ["/comm/mailnews/base/src/nsMsgDBFolder.h"],
        "name": "Folder",
        "interfaces": ["nsIMsgFolderService"],
    },
    {
        "cid": "{f1f7cbcd-d5e3-45a0-aa2d-cecf1a95ab03}",
        "contract_ids": ["@mozilla.org/messenger/msgnotificationservice;1"],
        "type": "nsMsgFolderNotificationService",
        "headers": ["/comm/mailnews/base/src/nsMsgFolderNotificationService.h"],
        "name": "FolderNotification",
        "interfaces": ["nsIMsgFolderNotificationService"],
    },
    {
        "cid": "{dbfcfdf0-4489-4faa-8122-190fd1efa16c}",
        "contract_ids": ["@mozilla.org/messenger/content-policy;1"],
        "type": "nsMsgContentPolicy",
        "init_method": "Init",
        "headers": ["/comm/mailnews/base/src/nsMsgContentPolicy.h"],
        "categories": {"content-policy": "@mozilla.org/messenger/content-policy;1"},
    },
    {
        "cid": "{483c8abb-ecf9-48a3-a394-2c604b603bd5}",
        "contract_ids": ["@mozilla.org/messenger/msgshutdownservice;1"],
        "type": "nsMsgShutdownService",
        "headers": ["/comm/mailnews/base/src/nsMsgMailSession.h"],
    },
    {
        "cid": "{03f9bb53-a680-4349-8de9-d26864d9ffd9}",
        "contract_ids": ["@mozilla.org/mail/dir-provider;1"],
        "type": "nsMailDirProvider",
        "headers": ["/comm/mailnews/base/src/nsMailDirProvider.h"],
        "categories": {"xpcom-directory-providers": "mail-directory-provider"},
    },
    {
        "cid": "{6ef7eafd-72d0-4c56-9409-67e16d0f255b}",
        "contract_ids": ["@mozilla.org/stopwatch;1"],
        "type": "nsStopwatch",
        "headers": ["/comm/mailnews/base/src/nsStopwatch.h"],
    },
    {
        "cid": "{de0f34a9-a87f-4f4c-b978-6187db187b90}",
        "contract_ids": ["@mozilla.org/mailnews/document-loader-factory;1"],
        "type": "mailnews::MailNewsDLF",
        "headers": ["/comm/mailnews/base/src/MailNewsDLF.h"],
        "categories": {"Gecko-Content-Viewers": "message/rfc822"},
    },
    {
        "cid": "{bf88b48c-fd8e-40b4-ba36-c7c3ad6d8ac9}",
        "contract_ids": ["@mozilla.org/embedcomp/base-command-controller;1"],
        "type": "nsBaseCommandController",
        "headers": ["/dom/commandhandler/nsBaseCommandController.h"],
    },
    {
        "cid": "{9c8f9601-801a-11d2-98ba-00805f297d89}",
        "contract_ids": ["@mozilla.org/transactionmanager;1"],
        "type": "TransactionManager",
        "headers": ["/editor/txmgr/TransactionManager.h"],
    },
    {
        "cid": "{14c13684-1dd2-11b2-9463-bb10ba742554}",
        "contract_ids": ["@mozilla.org/userinfo;1"],
        "type": "nsUserInfo",
        "headers": ["/comm/mailnews/base/src/nsUserInfo.h"],
    },
    # The XPCOM registration for nsSyncStreamListener was moved to comm-central
    # in bug 1501718. In bug 1800606 all uses were removed from comm-central.
    # The registration is maintained for some MailExtension Experiments.
    # Use of this service is discouraged due to its synchronous processing and
    # probable deprecation in the future. Instead use asynchronous code like in
    # `get_msg_source()` in ComposeHelpers.jsm.
    {
        "cid": "{439400d3-6f23-43db-8b06-8aafe1869bd8}",
        "contract_ids": ["@mozilla.org/network/sync-stream-listener;1"],
        "constructor": "SyncStreamListenerCreate",
        "headers": ["/comm/mailnews/base/src/nsMsgUtils.h"],
    },
]

if buildconfig.substs["OS_ARCH"] == "Darwin":
    Classes += [
        {
            "cid": "{746b28a5-d239-4719-b1a2-cf8093332ae3}",
            "contract_ids": ["@mozilla.org/messenger/osintegration;1"],
            "type": "nsMessengerOSXIntegration",
            "headers": ["/comm/mailnews/base/src/nsMessengerOSXIntegration.h"],
        },
    ]

    Categories = {
        "app-startup": {
            "OS Integration": "@mozilla.org/messenger/osintegration;1",
        }
    }

if buildconfig.substs["OS_ARCH"] == "WINNT":
    Classes += [
        {
            "cid": "{a74dd1d6-2ec4-4985-98f3-f69e18d20811}",
            "contract_ids": ["@mozilla.org/messenger/osintegration;1"],
            "type": "nsMessengerWinIntegration",
            "headers": ["/comm/mailnews/base/src/nsMessengerWinIntegration.h"],
        },
    ]
