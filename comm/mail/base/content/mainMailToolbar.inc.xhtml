# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

  <toolbarpalette id="MailToolbarPalette">
    <toolbarbutton is="toolbarbutton-menu-button" id="button-getmsg"
                   type="menu"
                   class="toolbarbutton-1"
                   label="&getMsgButton1.label;"
                   tooltiptext="&getMsgButton.tooltip;"
                   command="cmd_getNewMessages">
      <menupopup is="folder-menupopup" id="button-getMsgPopup"
                 onpopupshowing="getMsgToolbarMenu_init();"
                 oncommand="MsgGetMessagesForAccount(event.target._folder); event.stopPropagation();"
                 expandFolders="false"
                 mode="getMail">
        <menuitem id="button-getAllNewMsg"
                  class="menuitem-iconic folderMenuItem"
                  label="&getAllNewMsgCmd.label;"
                  accesskey="&getAllNewMsgCmd.accesskey;"
                  command="cmd_getMsgsForAuthAccounts"/>
        <menuseparator id="button-getAllNewMsgSeparator"/>
      </menupopup>
    </toolbarbutton>
    <toolbarbutton id="button-newmsg"
                   class="toolbarbutton-1"
                   label="&newMsgButton.label;"
                   tooltiptext="&newMsgButton.tooltip;"
                   command="cmd_newMessage"/>
    <toolbarbutton id="button-file"
                   type="menu"
                   wantdropmarker="true"
                   class="toolbarbutton-1"
                   label="&fileButton.label;"
                   tooltiptext="&fileButton.tooltip;"
                   oncommand="goDoCommand('cmd_moveMessage', event.target._folder)">
      <menupopup is="folder-menupopup" id="button-filePopup"
                 mode="filing"
                 showRecent="true"
                 showFileHereLabel="true"
                 recentLabel="&moveCopyMsgRecentMenu.label;"
                 recentAccessKey="&moveCopyMsgRecentMenu.accesskey;"/>
    </toolbarbutton>
    <toolbarbutton id="button-showconversation"
                   class="toolbarbutton-1"
                   label="&openConversationButton.label;"
                   tooltiptext="&openMsgConversationButton.tooltip;"
                   command="cmd_openConversation"/>
    <toolbarbutton is="toolbarbutton-menu-button" id="button-goback"
                   type="menu"
                   class="toolbarbutton-1"
                   label="&backButton1.label;"
                   command="cmd_goBack"
                   tooltiptext="&goBackButton.tooltip;">
      <menupopup id="button-goBackPopup" onpopupshowing="backToolbarMenu_init(this)">
        <menuitem id="button-goBack" label="&goBackCmd.label;" command="cmd_goBack"/>
        <menuseparator id="button-goBackSeparator"/>
      </menupopup>
    </toolbarbutton>
    <toolbarbutton is="toolbarbutton-menu-button" id="button-goforward"
                   type="menu"
                   class="toolbarbutton-1"
                   label="&goForwardButton1.label;"
                   command="cmd_goForward"
                   tooltiptext="&goForwardButton.tooltip;">
      <menupopup id="button-goForwardPopup" onpopupshowing="forwardToolbarMenu_init(this)">
        <menuitem id="button-goForward"
                  label="&goForwardCmd.label;"
                  command="cmd_goForward"/>
        <menuseparator id="button-goForwardSeparator"/>
      </menupopup>
    </toolbarbutton>
    <toolbaritem id="button-previous"
                 title="&previousButtonToolbarItem.label;"
                 align="center"
                 class="chromeclass-toolbar-additional">
      <toolbarbutton id="button-previousUnread"
                     class="toolbarbutton-1"
                     label="&previousButton.label;"
                     command="cmd_previousUnreadMsg"
                     tooltiptext="&previousButton.tooltip;"/>
    </toolbaritem>
    <toolbarbutton id="button-previousMsg"
                   class="toolbarbutton-1"
                   label="&previousMsgButton.label;"
                   command="cmd_previousMsg"
                   tooltiptext="&previousMsgButton.tooltip;"/>
    <toolbaritem id="button-next"
                 title="&nextButtonToolbarItem.label;"
                 align="center"
                 class="chromeclass-toolbar-additional">
      <toolbarbutton id="button-nextUnread"
                     class="toolbarbutton-1"
                     label="&nextButton.label;"
                     command="cmd_nextUnreadMsg"
                     tooltiptext="&nextButton.tooltip;"/>
    </toolbaritem>
    <toolbarbutton id="button-nextMsg"
                   class="toolbarbutton-1"
                   label="&nextMsgButton.label;"
                   command="cmd_nextMsg"
                   tooltiptext="&nextMsgButton.tooltip;"/>
    <toolbarbutton id="button-print"
                   class="toolbarbutton-1"
                   label="&printButton.label;"
                   command="cmd_print"
                   tooltiptext="&printButton.tooltip;"/>
    <toolbarbutton is="toolbarbutton-menu-button" id="button-mark"
                   type="menu"
                   class="toolbarbutton-1"
                   label="&markButton.label;"
                   tooltiptext="&markButton.tooltip;">
      <menupopup id="button-markPopup" onpopupshowing="InitMessageMark()">
        <menuitem id="markReadToolbarItem"
                  label="&markAsReadCmd.label;"
                  accesskey="&markAsReadCmd.accesskey;"
                  key="key_toggleRead"
                  command="cmd_markAsRead"/>
        <menuitem id="markUnreadToolbarItem"
                  label="&markAsUnreadCmd.label;"
                  accesskey="&markAsUnreadCmd.accesskey;"
                  key="key_toggleRead"
                  command="cmd_markAsUnread"/>
        <menuitem id="button-markThreadAsRead"
                  label="&markThreadAsReadCmd.label;"
                  key="key_markThreadAsRead"
                  accesskey="&markThreadAsReadCmd.accesskey;"
                  command="cmd_markThreadAsRead"/>
        <menuitem id="button-markReadByDate"
                  label="&markReadByDateCmd.label;"
                  key="key_markReadByDate"
                  accesskey="&markReadByDateCmd.accesskey;"
                  command="cmd_markReadByDate"/>
        <menuitem id="button-markAllRead"
                  label="&markAllReadCmd.label;"
                  key="key_markAllRead"
                  accesskey="&markAllReadCmd.accesskey;"
                  command="cmd_markAllRead"/>
        <menuseparator id="button-markAllReadSeparator"/>
        <menuitem id="markFlaggedToolbarItem"
                  type="checkbox"
                  label="&markStarredCmd.label;"
                  accesskey="&markStarredCmd.accesskey;"
                  key="key_toggleFlagged"
                  command="cmd_markAsFlagged"/>
      </menupopup>
    </toolbarbutton>
    <toolbarbutton id="button-tag"
                   type="menu"
                   wantdropmarker="true"
                   class="toolbarbutton-1"
                   label="&tagButton.label;"
                   tooltiptext="&tagButton.tooltip;"
                   command="cmd_tag">
      <menupopup id="button-tagpopup"
                 onpopupshowing="InitMessageTags(this);">
        <menuitem id="button-addNewTag"
                  label="&addNewTag.label;"
                  accesskey="&addNewTag.accesskey;"
                  command="cmd_addTag"/>
        <menuitem id="button-manageTags"
                  label="&manageTags.label;"
                  accesskey="&manageTags.accesskey;"
                  command="cmd_manageTags"/>
        <menuseparator id="button-tagpopup-sep-afterTagAddNew"/>
        <menuitem id="button-tagRemoveAll"
                  command="cmd_removeTags"/>
        <menuseparator id="button-afterTagRemoveAllSeparator"/>
      </menupopup>
    </toolbarbutton>
    <toolbarbutton id="button-address"
                   class="toolbarbutton-1"
                   label="&addressBookButton.label;"
                   oncommand="toAddressBook();"
                   tooltiptext="&addressBookButton.tooltip;"/>
    <toolbarbutton is="toolbarbutton-badge-button" id="button-chat"
                   image="chrome://messenger/skin/icons/new/compact/chat.svg"
                   class="toolbarbutton-1"
                   label="&chatButton.label;"
                   command="cmd_chat"
                   observes="cmd_chat"
                   tooltiptext="&chatButton.tooltip;"/>
    <toolbaritem id="throbber-box" title="&throbberItem.title;">
      <!-- NOTE: We only display up to one of these images at any given time.
         - Only show the static icon when customizing the toolbar.
         - Only show the animated icon when we are not customizing the toolbar
         - and there is some activity.
         - Once loading animation is handled by CSS, we can use a single image
         - here instead. -->
      <html:img class="animated-throbber-icon"
                src="chrome://global/skin/icons/loading.png"
                srcset="chrome://global/skin/icons/loading@2x.png 2x"
                alt="" />
      <html:img class="static-throbber-icon"
                src="chrome://messenger/skin/icons/notloading.png"
                srcset="chrome://messenger/skin/icons/notloading@2x.png 2x"
                alt="" />
    </toolbaritem>

    <toolbarbutton id="button-addons" class="toolbarbutton-1"
                   data-l10n-id="addons-and-themes-toolbarbutton"
                   oncommand="openAddonsMgr();"/>
#include ../../../calendar/base/content/calendar-buttons-mail-toolbar.inc.xhtml
  </toolbarpalette>

  <!-- If changes are made to the default set of toolbar buttons, you may need to rev the id
       of mail-bar in order to force the new default items to show up for users who customized their toolbar
       in earlier versions. Bumping the id means users will have to re-customize their toolbar!
  -->

  <toolbar is="customizable-toolbar" id="mail-bar3"
           class="inline-toolbar chromeclass-toolbar themeable-full"
           toolbarname="&showMessengerToolbarCmd.label;"
           accesskey="&showMessengerToolbarCmd.accesskey;"
           fullscreentoolbar="true" mode="full"
           customizable="true"
           context="toolbar-context-menu"
#ifdef XP_MACOSX
           iconsize="small"
           defaultset="button-getmsg,button-newmsg,spacer,button-tag,qfb-show-filter-bar,spring">
#else
           defaultset="button-getmsg,button-newmsg,separator,button-tag,qfb-show-filter-bar,spring">
#endif
  </toolbar>
